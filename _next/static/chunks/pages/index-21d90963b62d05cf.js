(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(2891)}])},2891:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return Le}});var n,a,s,c=r(5893),o=r(9008),u=r.n(o),i=r(7294),l=r(3727),d=r.n(l),h=r(4184),p=r.n(h);!function(e){e.INPUT_CHAR="INPUT_CHAR",e.REMOVE_CHAR="REMOVE_CHAR",e.GUESS_SECRET="GUESS_SECRET",e.NEW_GAME="NEW_GAME",e.EMOJIFY_BG="EMOJIFY_BG",e.SHUFFLE_BG="SHUFFLE_BG",e.TOGGLE_KEYBOARD="TOGGLE_KEYBOARD"}(n||(n={})),function(e){e.PLAYING="PLAYING",e.WON="WON",e.LOST="LOST"}(a||(a={})),function(e){e.PRESENT="-",e.ABSENT="_",e.CORRECT="*"}(s||(s={}));var m=["\ud83c\udf89","\ud83c\udfc6","\ud83d\ude0a","\ud83d\ude4c","\ud83d\udc9b","\ud83d\udc99","\ud83d\udcaf","\ud83d\udc9c","\ud83d\ude80","\ud83c\udf88"],f=["\ud83d\udc80","\ud83d\udca9","\ud83d\ude14","\ud83d\ude20","\ud83e\udd2c","\ud83e\udd21","\ud83e\udd2e","\ud83d\ude21"],g=["I0","O1","H2","S3","L4","M5","A6","H7","R8","G9","E10","D11","R12","X13","A14","O15","P16","J17","Z18","B19","U20","O21","H22","T23","U24","V25","B26","U27","V28","C29","O30","C31","V32","E33","L34","H35","L36","Y37","F38","A39","M40","I41","M42","Z43","S44","O45","X46","H47","V48","S49","A50","O51","P52","P53","A54","N55","V56","S57","I58","Q59","P60","G61","C62","X63","T64","E65","E66","M67","P68","J69","T70","B71","R72","F73","Z74","G75","M76","R77","X78","L79","E80","A81","Z82","X83","H84","E85","M86","N87","P88","L89","P90","W91","J92","L93","O94","J95","C96","H97","E98","Y99","W100","E101","G102","O103","A104","K105","O106","B107","V108","T109","J110","T111","S112","Z113","W114","L115","M116","W117","M118","T119","Z120","T121","W122","X123","Z124","W125","X126","R127","P128","K129","S130","V131","F132","K133","E134","B135","C136","I137","G138","E139","D140","G141","G142","I143","T144","O145","T146","B147","S148","G149","G150","I151","Y152","B153","W154","V155","E156","W157","U158","O159","A160","V161","N162","K163","J164","I165","O166","X167","U168","S169","M170","G171","O172","V173","B174","B175","R176","D177","Z178","H179","O180","F181","E182","Q183","H184","C185","C186","U187","M188","R189","H190","M191","U192","L193","D194","I195","M196","S197","C198","X199","K200","M201","E202","M203","Z204","M205","X206","O207","V208","Z209","W210","G211","H212","Y213","T214","X215","J216","A217","Q218","P219","D220","P221","T222","V223","N224","E225","W226","A227","Y228","Q229","L230","M231","E232","Q233","W234","N235","X236","G237","Q238","Z239","Y240","Y241","B242","C243","X244","Q245","L246","Z247","V248","G249","D250","C251","X252","B253","V254","Y255","E256","D257","H258","T259","B260","T261","K262","E263","K264","R265","T266","I267","M268","U269","P270","B271","X272","F273","W274","T275","A276","Q277","K278","X279"],v=r(5119),_=r.n(v);function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var E=s.CORRECT,y=s.PRESENT,k=s.ABSENT;var x=function(e){var t=e.value,r=e.valueContext,n=e.isCurrentTurn,a=e.className,s=void 0===a?"":a,o=[];for(t.length>0&&(o=t.split(""));o.length<5;)o.push("");return(0,c.jsx)(c.Fragment,{children:o.map((function(e,t){var a,o=null===r||void 0===r?void 0:r.charAt(t),u=p()(_().char,s,(b(a={},_()["is-correct"],o===E),b(a,_()["is-present"],o===y),b(a,_()["is-absent"],o===k),b(a,_()["is-active-turn"],n),a));return(0,c.jsx)("span",{className:u,children:e},"".concat(t,"_").concat(e))}))})},A=r(8716),C=r.n(A),S=r(5664),N=r.n(S);var O=function(e,t){return"number"!==typeof t&&(t=Math.floor(Math.random()*m.length)),e===a.WON?m[t%m.length]:f[t%f.length]},j=s.CORRECT,w=s.PRESENT,T=s.ABSENT,B=a.WON,M=a.LOST;var R=function(e){var t=e.gameState,r=e.currentAttemptIdx,n=e.secretWord,a=e.className,s=void 0===a?null:a,o=(0,i.useState)(""),u=o[0],l=o[1],d=(0,i.useState)(""),h=d[0],m=d[1];return(0,i.useEffect)((function(){var e="Turn ".concat(r+1,"/").concat(6);t===B?e="You won!! ".concat(O(t)):t===M?e="You lost ".concat(O(t)," The correct answer was ").concat(n):5===r&&(e="Last attempt"),l(e)}),[t,r,n]),(0,i.useEffect)((function(){var e=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=[j,w,T],r="",n=0;n<e;n++)r+=t[Math.floor(Math.random()*t.length)];return r}("Shmurgle".length);m(e)}),[]),(0,c.jsxs)("div",{className:p()(s,C()["heading-container"]),children:[(0,c.jsx)("h1",{className:N().heading,children:(0,c.jsx)(x,{value:"Shmurgle",valueContext:h,className:N()["heading-char"]})}),(0,c.jsx)("p",{className:N().subheading,children:u})]})},G=r(1322),I=r(9885),V=r.n(I),H=a.LOST,P=a.WON,W="rgb(21,177,239)",L="rgb(211, 47, 47)";var U=function(e){var t=e.gameState,r=e.currentAttemptIdx,n=(0,i.useState)("30vh"),a=n[0],s=n[1],o=(0,i.useState)(W),u=o[0],l=o[1];return(0,i.useEffect)((function(){var e=t===H||t===P?"100vh":"".concat(12*r+30,"vh");s(e),l(function(e,t){var r=(0,G.CD)(W,L,1-t/6)({});return e===P?r="rgb(0,192,118)":e===H&&(r=L),r}(t,r))}),[t,r]),(0,c.jsxs)("div",{className:V()["background-waves-container"],children:[(0,c.jsxs)("svg",{className:V().waves,xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 24 150 28",preserveAspectRatio:"none",shapeRendering:"auto",children:[(0,c.jsx)("defs",{children:(0,c.jsx)("path",{id:"gentle-wave",d:"M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"})}),(0,c.jsxs)("g",{className:V().parallax,children:[(0,c.jsx)("use",{xlinkHref:"#gentle-wave",x:"48",y:"0",fill:u,style:{opacity:.6}}),(0,c.jsx)("use",{xlinkHref:"#gentle-wave",x:"48",y:"3",fill:u,style:{opacity:.4}}),(0,c.jsx)("use",{xlinkHref:"#gentle-wave",x:"48",y:"5",fill:u,style:{opacity:.2}}),(0,c.jsx)("use",{xlinkHref:"#gentle-wave",x:"48",y:"8",fill:u,style:{opacity:1}})]})]}),(0,c.jsx)("div",{className:V().grower,style:{height:a,backgroundColor:u}})]})},K=r(1557),F=r(9221),Y=r.n(F);var X=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=(0,i.useRef)((function(){}));(0,i.useEffect)((function(){r.current=e}),[e]),(0,i.useEffect)((function(){if(null!==t){var e=setInterval((function(){r.current()}),t);return function(){return clearInterval(e)}}}),[t])};function J(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Z=a.WON,D=a.LOST,Q=s.PRESENT,z=s.CORRECT,q=n.EMOJIFY_BG,$=n.SHUFFLE_BG;var ee=function(e){var t=e.backgroundChars,r=e.emojiBackgroundChars,n=e.gameState,a=e.currentAttemptValue,s=e.previousAttempts,o=(0,i.useContext)(Pe),u=(0,i.useState)([]),l=u[0],d=u[1],h=(0,i.useState)([]),m=h[0],f=h[1],g=n===Z||n===D;return(0,i.useEffect)((function(){var e=[],t=[];s.forEach((function(r){var n=r.input,a=r.result;n.split("").forEach((function(r,n){var s=r[0];a[n]===z||a[n]===Q?e.push(s):t.push(s)}))})),d(e),f(t)}),[s]),(0,i.useEffect)((function(){o({type:$,payload:5})}),[s,o]),X((function(){o({type:$,payload:Math.round(1*Math.random())+1})}),g?500:Math.floor(5e3*Math.random())+3e3),X((function(){o({type:q})}),g?100:null),(0,c.jsx)(K.U5,{flipKey:t.join(""),spring:{stiffness:60,damping:10},children:(0,c.jsx)("div",{className:Y()["background-chars-container"],children:t.map((function(e,t){var s,o=e[0],u=Number(e.slice(1)),i=r.includes(e)?O(n,u):null,d=p()(Y()["background-char"],(J(s={},Y()["is-absent"],m.includes(o)),J(s,Y()["is-present"],l.includes(o)||a.includes(o)),s));return(0,c.jsx)(K.$3,{flipId:e,children:(0,c.jsx)("span",{className:d,"data-emoji":i,children:o},"inner_".concat(e))},e)}))})})};var te=function(e){var t=e.gameState,r=e.currentAttemptIdx,n=e.currentAttemptValue,a=e.previousAttempts,s=e.backgroundChars,o=e.emojiBackgroundChars,u=e.className,i=void 0===u?null:u;return(0,c.jsxs)("div",{className:p()(i,C()["background-container"]),children:[(0,c.jsx)(U,{gameState:t,currentAttemptIdx:r}),(0,c.jsx)(ee,{backgroundChars:s,emojiBackgroundChars:o,gameState:t,currentAttemptIdx:r,currentAttemptValue:n,previousAttempts:a})]})},re=r(8856),ne=r.n(re);var ae=function(e){var t=e.previousAttempts,r=e.currentAttemptIdx,n=e.currentAttemptValue,s=e.gameState,o=e.className,u=void 0===o?null:o,i=[];t.forEach((function(e,t){i.push((0,c.jsx)("div",{className:ne().attempt,children:(0,c.jsx)(x,{value:e.input,valueContext:e.result})},"prev_".concat(t)))})),s===a.PLAYING&&i.push((0,c.jsx)("div",{className:ne().attempt,children:(0,c.jsx)(x,{value:n,isCurrentTurn:!0})},"currentAttempt"));for(var l=r;l<5;l++)i.push((0,c.jsx)("div",{className:ne().attempt,children:(0,c.jsx)(x,{value:""})},"next_".concat(l)));return(0,c.jsx)("div",{className:p()(u,ne()["attempts-container"]),children:i})},se=r(6109),ce=r.n(se),oe=s.PRESENT,ue=s.ABSENT,ie=s.CORRECT;function le(){var e=Math.floor(Math.random()*de.length);return de[e]}var de=["anise","apple","aspic","bacon","bagel","basil","beans","berry","bland","bread","broil","candy","cater","chard","chili","chips","cream","crepe","crisp","crust","curds","curry","dairy","dates","diner","dough","dried","drink","feast","flour","fried","fruit","grain","grape","gravy","guava","herbs","honey","icing","jelly","juice","kebab","knife","ladle","lemon","liver","lunch","maize","mango","melon","mints","mochi","munch","olive","onion","order","pasta","patty","peach","pecan","pilaf","pizza","plate","prune","punch","roast","salad","salsa","sauce","seeds","slice","snack","spicy","spoon","spork","spuds","squid","steak","stove","straw","sugar","sushi","sweet","syrup","thyme","toast","torte","tuber","wafer","water","wheat","yeast"],he=r(3198),pe=r.n(he);function me(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function fe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ge(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){fe(e,t,r[t])}))}return e}function ve(e){return function(e){if(Array.isArray(e))return me(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return me(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return me(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var _e=a.PLAYING,be=a.WON,Ee=a.LOST,ye=n.INPUT_CHAR,ke=n.REMOVE_CHAR,xe=n.GUESS_SECRET,Ae=n.NEW_GAME,Ce=n.EMOJIFY_BG,Se=n.SHUFFLE_BG,Ne=n.TOGGLE_KEYBOARD;function Oe(e){var t=e.secretWord,r=void 0===t?"W8ING":t,n=e.backgroundChars,a=void 0===n?g:n,s=e.keyboardVisible,c=void 0!==s&&s;return console.log("secretWord",r),{gameState:_e,currentAttemptIdx:0,currentAttemptValue:"",previousAttempts:[],secretWord:r.toUpperCase(),backgroundChars:a,emojiBackgroundChars:[],keyboardVisible:c}}var je=function(e,t){var r=t.type,n=t.payload,a=e.currentAttemptValue,c=e.secretWord,o=e.gameState,u=e.currentAttemptIdx,i=e.backgroundChars,l=e.emojiBackgroundChars;switch(r){case ye:return a.length<5&&o===_e&&"string"===typeof n&&1===(null===n||void 0===n?void 0:n.length)?ge({},e,{currentAttemptValue:a+n.toUpperCase()}):e;case ke:return a.length>0?ge({},e,{currentAttemptValue:a.slice(0,-1)}):e;case xe:if(5===a.length&&u<=5){var d=function(e,t){if(5!==e.length)throw new Error("Expected secret word to have length of ".concat(5));if(5!==t.length)throw new Error("Expected value to have length of ".concat(5));for(var r="",n=e,a=0;a<t.length;a++){var s=t[a],c=ue;e[a]===s?(c=ie,t.substring(0,a).indexOf(s)>-1&&-1===n.indexOf(s)&&(r=r.replace(oe,ue))):e.indexOf(s)>-1&&n.indexOf(s)>-1&&(c=oe),n=n.replace(s,""),r+=c}return r}(c,a),h=o,p=u;return d.split("").every((function(e){return e===s.CORRECT}))?h=be:5===u?h=Ee:p+=1,ge({},e,{gameState:h,currentAttemptIdx:p,currentAttemptValue:"",previousAttempts:ve(e.previousAttempts).concat([{input:a,result:d}])})}return e;case Ce:var m=i.filter((function(e){return!l.includes(e)})),f=ve(l);if(m.length<i.length/2){var g=Math.floor(Math.random()*f.length);f=ve(f.slice(0,g)).concat(ve(f.slice(g+1)))}else{var v=Math.floor(Math.random()*m.length);f.push(m[v])}return ge({},e,{emojiBackgroundChars:f});case Se:if("number"===typeof n&&n>=0){for(var _=ve(i),b=0;b<n;b++){var E=Math.floor(Math.random()*i.length),y=Math.floor(Math.random()*i.length),k=_[E];_[E]=_[y],_[y]=k}return ge({},e,{backgroundChars:_})}return ge({},e,{backgroundChars:pe()(i)});case Ne:return ge({},e,{keyboardVisible:!e.keyboardVisible});case Ae:return Oe({secretWord:le(),keyboardVisible:e.keyboardVisible});default:throw new Error("Action type not recognized: ".concat(t.type))}},we=(r(739),r(8079)),Te=r.n(we),Be=n.INPUT_CHAR,Me=n.GUESS_SECRET,Re=n.NEW_GAME,Ge=n.REMOVE_CHAR,Ie=n.SHUFFLE_BG,Ve=n.TOGGLE_KEYBOARD,He=a.PLAYING,Pe=(0,i.createContext)({});var We=function(){var e=(0,i.useReducer)(je,{},Oe),t=e[0],r=e[1],n=t.currentAttemptIdx,a=t.currentAttemptValue,s=t.secretWord,o=t.gameState,u=t.previousAttempts,l=t.backgroundChars,h=t.emojiBackgroundChars,m=t.keyboardVisible,f=(0,i.useCallback)((function(){r({type:Re}),r({type:Ie})}),[]),g=(0,i.useCallback)((function(e){e===He?r({type:Me}):f()}),[f]),v=(0,i.useCallback)((function(e){r({type:Be,payload:e})}),[]),_=(0,i.useCallback)((function(){r({type:Ge})}),[]),b=(0,i.useCallback)((function(){r({type:Ve})}),[]),E=(0,i.useCallback)((function(e){var t=e.key;switch(t){case"Enter":g(o);break;case"Backspace":_();break;default:1===t.length&&t.match(/[a-z]/i)&&v(t)}}),[o,g,v,_]),y=(0,i.useCallback)((function(e){switch(e){case"{enter}":g(o);break;case"{backspace}":_();break;case"{newgame}":f();break;case"{hideKeyboard}":b();break;default:1===e.length&&e.match(/[a-z]/i)&&v(e.toUpperCase())}}),[o,g,v,_,f,b]);return(0,i.useEffect)((function(){r({type:Re})}),[]),(0,i.useEffect)((function(){return document.addEventListener("keydown",E),function(){document.removeEventListener("keydown",E)}}),[E]),(0,c.jsxs)(Pe.Provider,{value:r,children:[(0,c.jsxs)("div",{className:C()["shmurgle-container"],children:[(0,c.jsx)(R,{className:C()["shmurgle-heading"],gameState:o,currentAttemptIdx:n,secretWord:s}),(0,c.jsx)(ae,{className:C()["shmurgle-attempts"],gameState:o,currentAttemptIdx:n,currentAttemptValue:a,previousAttempts:u}),!m&&(0,c.jsxs)("div",{className:p()(C()["shmurgle-buttons"],ce()["buttons-container"]),children:[(0,c.jsx)("button",{className:ce().button,onClick:function(){return b()},children:"Virtual Keyboard"}),(0,c.jsx)("button",{className:ce().button,onClick:function(){return f()},disabled:0===n&&o===He,children:"New Game"})]}),m&&(0,c.jsx)(d(),{onKeyPress:y,physicalKeyboardHighlight:!0,theme:p()("hg-theme-default","hg-layout-default",C()["shmurgle-keyboard"],Te()["keyboard-container"]),layout:{default:["{hideKeyboard} {newgame}","q w e r t y u i o p {backspace}","a s d f g h j k l {enter}","z x c v b n m"]},display:{"{hideKeyboard}":"Hide Keyboard","{backspace}":"Backspace","{newgame}":"New Game","{enter}":"Enter"}})]}),(0,c.jsx)(te,{className:C()["shmurgle-background"],backgroundChars:l,emojiBackgroundChars:h,gameState:o,currentAttemptIdx:n,currentAttemptValue:a,previousAttempts:u})]})},Le=function(){return(0,c.jsxs)("div",{children:[(0,c.jsxs)(u(),{children:[(0,c.jsx)("title",{children:"Shmurgle"}),(0,c.jsx)("meta",{name:"description",content:"Generated by create next app"}),(0,c.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,c.jsx)("main",{children:(0,c.jsx)(We,{})})]})}},8856:function(e){e.exports={"attempts-container":"Attempts_attempts-container__JIEV7",attempt:"Attempts_attempt__SMFc8"}},9221:function(e){e.exports={"background-chars-container":"BackgroundChars_background-chars-container__po9n5","background-char":"BackgroundChars_background-char__AQH0o","is-absent":"BackgroundChars_is-absent__NuUTk","is-present":"BackgroundChars_is-present__8m_Ln",pulsate:"BackgroundChars_pulsate__fv979"}},9885:function(e){e.exports={"background-waves-container":"BackgroundWaves_background-waves-container__qfBxs",waves:"BackgroundWaves_waves__yNdm1",grower:"BackgroundWaves_grower__egVIv",parallax:"BackgroundWaves_parallax__AGmbB","move-forever":"BackgroundWaves_move-forever__WTE1U"}},6109:function(e){e.exports={"buttons-container":"Buttons_buttons-container__JTKib",button:"Buttons_button__sLEnN"}},5119:function(e){e.exports={char:"Characters_char__5nt5R",width:"Characters_width__kxoJs","is-active-turn":"Characters_is-active-turn__SO9_V","is-correct":"Characters_is-correct___GN7e","is-present":"Characters_is-present__a9cPa","is-absent":"Characters_is-absent__U0XJv"}},5664:function(e){e.exports={"heading-container":"Heading_heading-container__F540a",heading:"Heading_heading__NRZzj",subheading:"Heading_subheading__k5shT","heading-char":"Heading_heading-char__MZrN3"}},8079:function(e){e.exports={"keyboard-container":"Keyboard_keyboard-container__PaO6w",absent:"Keyboard_absent__ftZ9O",present:"Keyboard_present__KcGdD"}},8716:function(e){e.exports={"shmurgle-container":"Shmurgle_shmurgle-container__H06OF","shmurgle-heading":"Shmurgle_shmurgle-heading__o54Tq","shmurgle-attempts":"Shmurgle_shmurgle-attempts__1kd7j","shmurgle-buttons":"Shmurgle_shmurgle-buttons__vcPHT","shmurgle-background":"Shmurgle_shmurgle-background__vLhqA","shmurgle-keyboard":"Shmurgle_shmurgle-keyboard__dQ1l7"}}},function(e){e.O(0,[247,774,888,179],(function(){return t=8312,e(e.s=t);var t}));var t=e.O();_N_E=t}]);