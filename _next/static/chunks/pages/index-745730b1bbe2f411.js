(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(t,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(5670)}])},5670:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return jt}});var n,a,c,o=r(5893),s=r(9008),u=r.n(s),i=r(7294);!function(t){t.INPUT_CHAR="INPUT_CHAR",t.REMOVE_CHAR="REMOVE_CHAR",t.GUESS_SECRET="GUESS_SECRET",t.NEW_GAME="NEW_GAME",t.EMOJIFY_BG="EMOJIFY_BG",t.SHUFFLE_BG="SHUFFLE_BG"}(n||(n={})),function(t){t.PLAYING="PLAYING",t.WON="WON",t.LOST="LOST"}(a||(a={})),function(t){t.PRESENT="-",t.ABSENT="_",t.CORRECT="*"}(c||(c={}));var l=["\ud83c\udf89","\ud83c\udfc6","\ud83d\ude0a","\ud83d\ude4c","\ud83d\udc9b","\ud83d\udc99","\ud83d\udcaf","\ud83d\udc9c","\ud83d\ude80","\ud83c\udf88"],p=["\ud83d\udc80","\ud83d\udca9","\ud83d\ude14","\ud83d\ude20","\ud83e\udd2c","\ud83e\udd21","\ud83e\udd2e","\ud83d\ude21"],d=["I0","O1","H2","S3","L4","M5","A6","H7","R8","G9","E10","D11","R12","X13","A14","O15","P16","J17","Z18","B19","U20","O21","H22","T23","U24","V25","B26","U27","V28","C29","O30","C31","V32","E33","L34","H35","L36","Y37","F38","A39","M40","I41","M42","Z43","S44","O45","X46","H47","V48","S49","A50","O51","P52","P53","A54","N55","V56","S57","I58","Q59","P60","G61","C62","X63","T64","E65","E66","M67","P68","J69","T70","B71","R72","F73","Z74","G75","M76","R77","X78","L79","E80","A81","Z82","X83","H84","E85","M86","N87","P88","L89","P90","W91","J92","L93","O94","J95","C96","H97","E98","Y99","W100","E101","G102","O103","A104","K105","O106","B107","V108","T109","J110","T111","S112","Z113","W114","L115","M116","W117","M118","T119","Z120","T121","W122","X123","Z124","W125","X126","R127","P128","K129","S130","V131","F132","K133","E134","B135","C136","I137","G138","E139","D140","G141","G142","I143","T144","O145","T146","B147","S148","G149","G150","I151","Y152","B153","W154","V155","E156","W157","U158","O159","A160","V161","N162","K163","J164","I165","O166","X167","U168","S169","M170","G171","O172","V173","B174","B175","R176","D177","Z178","H179","O180","F181","E182","Q183","H184","C185","C186","U187","M188","R189","H190","M191","U192","L193","D194","I195","M196","S197","C198","X199","K200","M201","E202","M203","Z204","M205","X206","O207","V208","Z209","W210","G211","H212","Y213","T214","X215","J216","A217","Q218","P219","D220","P221","T222","V223","N224","E225","W226","A227","Y228","Q229","L230","M231","E232","Q233","W234","N235","X236","G237","Q238","Z239","Y240","Y241","B242","C243","X244","Q245","L246","Z247","V248","G249","D250","C251","X252","B253","V254","Y255","E256","D257","H258","T259","B260","T261","K262","E263","K264","R265","T266","I267","M268","U269","P270","B271","X272","F273","W274","T275","A276","Q277","K278","X279"],h=a.WON,m=a.LOST;var f=function(t){var e=t.gameState,r=t.currentAttemptIdx,n=t.secretWord,a="turn ".concat(r+1,"/").concat(6);return e===h?a="You won!!":e===m?a="You lost. The correct answer is ".concat(n):5===r&&(a="Last attempt"),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("h1",{children:"Shmurgle"}),(0,o.jsx)("p",{children:a})]})},_=r(1322),g=r(9885),v=r.n(g);var E=function(t){var e=t.color,r=t.offsetY;return(0,o.jsxs)("div",{className:v().background_waves,children:[(0,o.jsxs)("svg",{className:v().waves,xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 24 150 28",preserveAspectRatio:"none",shapeRendering:"auto",children:[(0,o.jsx)("defs",{children:(0,o.jsx)("path",{id:"gentle-wave",d:"M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"})}),(0,o.jsxs)("g",{className:v().parallax,children:[(0,o.jsx)("use",{xlinkHref:"#gentle-wave",x:"48",y:"0",fill:e,style:{opacity:.6}}),(0,o.jsx)("use",{xlinkHref:"#gentle-wave",x:"48",y:"3",fill:e,style:{opacity:.4}}),(0,o.jsx)("use",{xlinkHref:"#gentle-wave",x:"48",y:"5",fill:e,style:{opacity:.2}}),(0,o.jsx)("use",{xlinkHref:"#gentle-wave",x:"48",y:"8",fill:e,style:{opacity:1}})]})]}),(0,o.jsx)("div",{className:v().grower,style:{height:r,backgroundColor:e}})]})},b=r(1557),A=r(9221),x=r.n(A),y=r(4184),k=r.n(y);var S=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=(0,i.useRef)((function(){}));(0,i.useEffect)((function(){r.current=t}),[t]),(0,i.useEffect)((function(){if(null!==e){var t=setInterval((function(){r.current()}),e);return function(){return clearInterval(t)}}}),[e])};function j(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var C=a.WON,O=a.LOST,w=c.PRESENT,N=c.CORRECT,M=n.EMOJIFY_BG,B=n.SHUFFLE_BG;var I=function(t){var e=t.backgroundChars,r=t.emojiBackgroundChars,n=t.gameState,a=t.currentAttemptValue,c=t.previousAttempts,s=(0,i.useContext)(xt),u=(0,i.useState)([]),d=u[0],h=u[1],m=(0,i.useState)([]),f=m[0],_=m[1],g=n===C||n===O;return(0,i.useEffect)((function(){var t=[],e=[];c.forEach((function(r){var n=r.input,a=r.result;n.split("").forEach((function(r,n){var c=r[0];a[n]===N||a[n]===w?t.push(c):e.push(c)}))})),h(t),_(e)}),[c]),(0,i.useEffect)((function(){s({type:B,payload:5})}),[c,s]),(0,i.useEffect)((function(){s({type:B,payload:1})}),[a,s]),S((function(){s({type:B,payload:Math.round(1*Math.random())+1})}),g?500:Math.floor(5e3*Math.random())+3e3),S((function(){s({type:M})}),g?100:null),(0,o.jsx)(b.U5,{flipKey:e.join(""),spring:{stiffness:60,damping:10},children:(0,o.jsx)("div",{className:x().background_chars,children:e.map((function(t,e){var c,s=t[0],u=Number(t.slice(1)),i=r.includes(t)?function(t,e){return t===C?l[e%l.length]:p[e%p.length]}(n,u):null,h=k()(x().background_char,(j(c={},x().dim,f.includes(s)),j(c,x().highlight,d.includes(s)||a.includes(s)),c));return(0,o.jsx)(b.$3,{flipId:t,children:(0,o.jsx)("span",{className:h,"data-emoji":i,children:s},"inner_".concat(t))},t)}))})})},T=r(8716),R=r.n(T),G=a.LOST,W=a.WON;var P=function(t){var e=t.gameState,r=t.currentAttemptIdx,n=t.currentAttemptValue,a=t.previousAttempts,c=t.backgroundChars,s=t.emojiBackgroundChars,u=e===G||e===W?"100vh":"".concat(12*r+30,"vh"),i=function(t,e){var r="rgb(211, 47, 47)",n=(0,_.CD)("rgb(21,177,239)",r,1-e/6)({});return t===W?n="rgb(0,192,118)":t===G&&(n=r),n}(e,r);return(0,o.jsxs)("div",{className:R().background_container,children:[(0,o.jsx)(E,{color:i,offsetY:u}),(0,o.jsx)(I,{backgroundChars:c,emojiBackgroundChars:s,gameState:e,currentAttemptIdx:r,currentAttemptValue:n,previousAttempts:a})]})},H=r(8856),L=r.n(H);var V=function(t){var e=t.input,r=t.current,n=[];for(e.length>0&&(n=e.split(""));n.length<5;)n.push("");var a,c,s,u=k()(L().attempt_char,(a={},c=L().current,s=r,c in a?Object.defineProperty(a,c,{value:s,enumerable:!0,configurable:!0,writable:!0}):a[c]=s,a));return(0,o.jsx)(o.Fragment,{children:n.map((function(t,e){return(0,o.jsx)("span",{className:u,children:t},"".concat(e,"_").concat(t))}))})};function U(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var F=c.CORRECT,Y=c.PRESENT,X=c.ABSENT;var Z=function(t){var e=t.attemptInput,r=void 0===e?"":e,n=t.attemptResult,a=void 0===n?"":n,c=[];if(0===r.length&&0===a.length)c.push((0,o.jsx)(V,{input:r},"smth"));else for(var s=0;s<5;s++){var u,i=r.charAt(s),l=a.charAt(s),p=k()(L().attempt_char,(U(u={},L().attempt_char__correct,l===F),U(u,L().attempt_char__present,l===Y),U(u,L().attempt_char__absent,l===X),u));c.push((0,o.jsx)("span",{className:p,children:i},s))}return(0,o.jsx)("div",{className:L().attempt,children:c})};var J=function(t){var e=t.previousAttempts,r=t.currentAttemptIdx,n=t.currentAttemptValue,c=t.gameState,s=[];e.forEach((function(t,e){s.push((0,o.jsx)(Z,{attemptInput:t.input,attemptResult:t.result},"prev_".concat(e)))})),c===a.PLAYING&&s.push((0,o.jsx)("div",{className:L().attempt,children:(0,o.jsx)(V,{input:n,current:!0})},"currentAttempt"));for(var u=r;u<5;u++)s.push((0,o.jsx)(Z,{},"".concat(r,"_").concat(u)));return(0,o.jsx)("div",{className:L().attempts_container,children:s})},K=c.PRESENT,D=c.ABSENT,Q=c.CORRECT;function z(){var t=Math.floor(Math.random()*$.length);return $[t]}var $=["anise","apple","aspic","bacon","bagel","basil","beans","berry","bland","bread","broil","candy","cater","chard","chili","chips","cream","crepe","crisp","crust","curds","curry","dairy","dates","diner","dough","dried","drink","feast","flour","fried","fruit","grain","grape","gravy","guava","herbs","honey","icing","jelly","juice","kebab","knife","ladle","lemon","liver","lunch","maize","mango","melon","mints","mochi","munch","olive","onion","order","pasta","patty","peach","pecan","pilaf","pizza","plate","prune","punch","roast","salad","salsa","sauce","seeds","slice","snack","spicy","spoon","spork","spuds","squid","steak","stove","straw","sugar","sushi","sweet","syrup","thyme","toast","torte","tuber","wafer","water","wheat","yeast"],q=r(3198),tt=r.n(q);function et(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function rt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})))),n.forEach((function(e){rt(t,e,r[e])}))}return t}function at(t){return function(t){if(Array.isArray(t))return et(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return et(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return et(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ct=a.PLAYING,ot=a.WON,st=a.LOST,ut=n.INPUT_CHAR,it=n.REMOVE_CHAR,lt=n.GUESS_SECRET,pt=n.NEW_GAME,dt=n.EMOJIFY_BG,ht=n.SHUFFLE_BG;function mt(t){var e=t.secretWord,r=void 0===e?"W8ING":e,n=t.backgroundChars,a=void 0===n?d:n;return console.log("secretWord",r),{gameState:ct,currentAttemptIdx:0,currentAttemptValue:"",previousAttempts:[],secretWord:r.toUpperCase(),backgroundChars:a,emojiBackgroundChars:[]}}var ft=function(t,e){var r=e.type,n=e.payload,a=t.currentAttemptValue,o=t.secretWord,s=t.gameState,u=t.currentAttemptIdx,i=t.backgroundChars,l=t.emojiBackgroundChars;switch(r){case ut:return a.length<5&&s===ct&&"string"===typeof n&&1===(null===n||void 0===n?void 0:n.length)?nt({},t,{currentAttemptValue:a+n.toUpperCase()}):t;case it:return a.length>0?nt({},t,{currentAttemptValue:a.slice(0,-1)}):t;case lt:if(5===a.length&&u<=5){var p=function(t,e){if(5!==t.length)throw new Error("Expected secret word to have length of ".concat(5));if(5!==e.length)throw new Error("Expected value to have length of ".concat(5));for(var r="",n=t,a=0;a<e.length;a++){var c=e[a],o=D;t[a]===c?(o=Q,e.substring(0,a).indexOf(c)>-1&&-1===n.indexOf(c)&&(r=r.replace(K,D))):t.indexOf(c)>-1&&n.indexOf(c)>-1&&(o=K),n=n.replace(c,""),r+=o}return r}(o,a),d=s,h=u;return p.split("").every((function(t){return t===c.CORRECT}))?d=ot:5===u?d=st:h+=1,nt({},t,{gameState:d,currentAttemptIdx:h,currentAttemptValue:"",previousAttempts:at(t.previousAttempts).concat([{input:a,result:p}])})}return t;case dt:var m=i.filter((function(t){return!l.includes(t)})),f=at(l);if(m.length<i.length/2){var _=Math.floor(Math.random()*f.length);f=at(f.slice(0,_)).concat(at(f.slice(_+1)))}else{var g=Math.floor(Math.random()*m.length);f.push(m[g])}return nt({},t,{emojiBackgroundChars:f});case ht:if("number"===typeof n&&n>=0){for(var v=at(i),E=0;E<n;E++){var b=Math.floor(Math.random()*i.length),A=Math.floor(Math.random()*i.length),x=v[b];v[b]=v[A],v[A]=x}return nt({},t,{backgroundChars:v})}return nt({},t,{backgroundChars:tt()(i)});case pt:return mt({secretWord:z()});default:throw new Error("Action type not recognized: ".concat(e.type))}},_t=n.INPUT_CHAR,gt=n.GUESS_SECRET,vt=n.NEW_GAME,Et=n.REMOVE_CHAR,bt=n.SHUFFLE_BG,At=a.PLAYING,xt=(0,i.createContext)({});var yt=function(){var t=(0,i.useReducer)(ft,{},mt),e=t[0],r=t[1],n=e.currentAttemptIdx,a=e.currentAttemptValue,c=e.secretWord,s=e.gameState,u=e.previousAttempts,l=e.backgroundChars,p=e.emojiBackgroundChars,d=(0,i.useCallback)((function(t){var e=t.key;switch(e){case"Enter":s===At?r({type:gt}):(r({type:vt}),r({type:bt}));break;case"Backspace":r({type:Et});break;default:1===e.length&&e.match(/[a-z]/i)&&r({type:_t,payload:e})}}),[s]);return(0,i.useEffect)((function(){r({type:vt})}),[]),(0,i.useEffect)((function(){return document.addEventListener("keydown",d),function(){document.removeEventListener("keydown",d)}}),[d]),(0,o.jsxs)(xt.Provider,{value:r,children:[(0,o.jsxs)("div",{className:R().shmurgle_container,children:[(0,o.jsx)(f,{gameState:s,currentAttemptIdx:n,secretWord:c}),(0,o.jsx)(J,{gameState:s,currentAttemptIdx:n,currentAttemptValue:a,previousAttempts:u}),(0,o.jsx)("button",{className:R().reset_button,onClick:function(){return r({type:vt})},disabled:0===n&&s===At,children:"New Game"})]}),(0,o.jsx)(P,{backgroundChars:l,emojiBackgroundChars:p,gameState:s,currentAttemptIdx:n,currentAttemptValue:a,previousAttempts:u})]})},kt=r(7160),St=r.n(kt),jt=function(){return(0,o.jsxs)("div",{children:[(0,o.jsxs)(u(),{children:[(0,o.jsx)("title",{children:"Shmurgle"}),(0,o.jsx)("meta",{name:"description",content:"Generated by create next app"}),(0,o.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,o.jsx)("main",{className:St().main,children:(0,o.jsx)(yt,{})})]})}},8856:function(t){t.exports={attempts_container:"Attempts_attempts_container__K2Se7",attempt:"Attempts_attempt__SMFc8",attempt_char:"Attempts_attempt_char__Z8Iz9",current:"Attempts_current__9oge2",width_animation:"Attempts_width_animation__741lu",attempt_char__correct:"Attempts_attempt_char__correct__MWGti",attempt_char__present:"Attempts_attempt_char__present__d7oMB",attempt_char__absent:"Attempts_attempt_char__absent__8vH3r"}},9221:function(t){t.exports={highlightOpacity:"0.5",baseOpacity:"0.15",dimmedOpacity:"0.05",background_chars:"BackgroundChars_background_chars__XaVML",background_char:"BackgroundChars_background_char__syS33",dim:"BackgroundChars_dim__FxL_k",highlight:"BackgroundChars_highlight__ZMKuM",pulsate:"BackgroundChars_pulsate__fv979"}},9885:function(t){t.exports={background_waves:"BackgroundWaves_background_waves__4EMsy",waves:"BackgroundWaves_waves__yNdm1",grower:"BackgroundWaves_grower__egVIv",parallax:"BackgroundWaves_parallax__AGmbB","move-forever":"BackgroundWaves_move-forever__WTE1U"}},7160:function(t){t.exports={main:"Home_main__nLjiQ"}},8716:function(t){t.exports={shmurgle_container:"Shmurgle_shmurgle_container__eHIBC",background_container:"Shmurgle_background_container__31ptI",reset_button:"Shmurgle_reset_button__nbdhN"}}},function(t){t.O(0,[36,774,888,179],(function(){return e=8312,t(t.s=e);var e}));var e=t.O();_N_E=e}]);