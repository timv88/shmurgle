(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(5848)}])},5848:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return D}});var n=r(5893),a=r(9008),c=r.n(a),o=r(7294),s=r(4184),u=r.n(s),i=r(8716),l=r.n(i);var p=function(e){var t=e.input,r=e.current,a=[];for(t.length>0&&(a=t.split(""));a.length<B;)a.push("");var c,o,s,i=u()(l().attempt_char,(c={},o=l().current,s=r,o in c?Object.defineProperty(c,o,{value:s,enumerable:!0,configurable:!0,writable:!0}):c[o]=s,c));return(0,n.jsx)(n.Fragment,{children:a.map((function(e,t){return(0,n.jsx)("span",{className:i,children:e},"".concat(t,"_").concat(e))}))})};function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=function(e){var t=e.attemptInput,r=void 0===t?"":t,a=e.attemptResult,c=void 0===a?"":a,o=[];if(0===r.length&&0===c.length)o.push((0,n.jsx)(p,{input:r},"smth"));else for(var s=0;s<5;s++){var i,d=r.charAt(s),m=c.charAt(s),_=u()(l().attempt_char,(h(i={},l().attempt_char__correct,"X"===m),h(i,l().attempt_char__present,"O"===m),h(i,l().attempt_char__absent,"_"===m),i));o.push((0,n.jsx)("span",{className:_,children:d},s))}return(0,n.jsx)("div",{className:l().attempt,children:o})};function m(){var e=Math.floor(Math.random()*_.length);return _[e]}var _=["anise","apple","aspic","bacon","bagel","basil","beans","berry","bland","bread","broil","candy","cater","chard","chili","chips","cream","crepe","crisp","crust","curds","curry","dairy","dates","diner","dough","dried","drink","feast","flour","fried","fruit","grain","grape","gravy","guava","herbs","honey","icing","jelly","juice","kebab","knife","ladle","lemon","liver","lunch","maize","mango","melon","mints","mochi","munch","olive","onion","order","pasta","patty","peach","pecan","pilaf","pizza","plate","prune","punch","roast","salad","salsa","sauce","seeds","slice","snack","spicy","spoon","spork","spuds","squid","steak","stove","straw","sugar","sushi","sweet","syrup","thyme","toast","torte","tuber","wafer","water","wheat","yeast"];var g=function(e){var t=e.gameState,r=e.currentAttemptIdx,a=e.maxAttempts,c=e.secretWord,o="turn ".concat(r+1,"/").concat(a+1);return"won"===t?o="You won!!":"lost"===t?o="You lost. The correct answer is ".concat(c):r===a&&(o="Last attempt"),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("h1",{children:"Shmurgle"}),(0,n.jsx)("p",{children:o})]})},f=r(1322),v=r(9885),b=r.n(v);var x=function(e){var t=e.color,r=e.offsetY;return(0,n.jsxs)("div",{className:b().background_waves,children:[(0,n.jsxs)("svg",{className:b().waves,xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 24 150 28",preserveAspectRatio:"none",shapeRendering:"auto",children:[(0,n.jsx)("defs",{children:(0,n.jsx)("path",{id:"gentle-wave",d:"M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"})}),(0,n.jsxs)("g",{className:b().parallax,children:[(0,n.jsx)("use",{xlinkHref:"#gentle-wave",x:"48",y:"0",fill:t,style:{opacity:.6}}),(0,n.jsx)("use",{xlinkHref:"#gentle-wave",x:"48",y:"3",fill:t,style:{opacity:.4}}),(0,n.jsx)("use",{xlinkHref:"#gentle-wave",x:"48",y:"5",fill:t,style:{opacity:.2}}),(0,n.jsx)("use",{xlinkHref:"#gentle-wave",x:"48",y:"8",fill:t,style:{opacity:1}})]})]}),(0,n.jsx)("div",{className:b().grower,style:{height:r,backgroundColor:t}})]})},y=r(9221),A=r.n(y);var w=function(e,t){var r=(0,o.useRef)();(0,o.useEffect)((function(){r.current=e}),[e]),(0,o.useEffect)((function(){if(null!==t){var e=setInterval((function(){r.current()}),t);return function(){return clearInterval(e)}}}),[t])};function k(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var E=["\ud83c\udf89","\ud83c\udfc6","\ud83d\ude0a","\ud83d\ude4c","\u2665"],j=["\ud83d\udc80","\ud83d\udca9","\ud83d\ude14","\ud83d\ude20","\ud83e\udd2c"];function S(e){return"won"===e?E[Math.floor(Math.random()*E.length)]:j[Math.floor(Math.random()*j.length)]}var C=function(e){var t=e.characters,r=e.gameState,a=e.currentAttemptValue,c=e.previousAttempts,s=(0,o.useContext)(U),i=(0,o.useState)([]),l=i[0],p=i[1],h=(0,o.useState)([]),d=h[0],m=h[1];return(0,o.useEffect)((function(){var e=[],t=[];c.forEach((function(r){var n=r.input,a=r.result;n.split("").forEach((function(r,n){"X"===a[n]||"O"===a[n]?e.push(r):t.push(r)}))})),p(e),m(t)}),[c]),w((function(){"won"!==r&&"lost"!==r||s({type:W.SET_RANDOM_BACKGROUND_CHAR,payload:S(r)})}),30),(0,n.jsx)("div",{className:A().background_chars,children:t.map((function(e,t){var r,c=u()(A().background_char,(k(r={},A().present,l.includes(e)),k(r,A().absent,d.includes(e)),k(r,A().pulsate,E.includes(e)||j.includes(e)),k(r,A().highlight,a.includes(e)&&Math.random()>.25),r));return(0,n.jsx)("span",{className:c,children:e},t)}))})};var N=function(e){var t=e.gameState,r=e.currentAttemptIdx,a=e.maxAttempts,c=e.currentAttemptValue,o=e.previousAttempts,s=e.backgroundChars,u="lost"===t||"won"===t?"100vh":"".concat(12*r+30,"vh"),i=(0,f.CD)("rgb(21,177,239)","rgb(211, 47, 47)",1-r/a)({});return"won"===t&&(i="rgb(0,192,118)"),(0,n.jsxs)("div",{className:l().background_container,children:[(0,n.jsx)(x,{color:i,offsetY:u}),(0,n.jsx)(C,{characters:s,gameState:t,currentAttemptIdx:r,currentAttemptValue:c,previousAttempts:o})]})};function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function R(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function M(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){R(e,t,r[t])}))}return e}function I(e){return function(e){if(Array.isArray(e))return O(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return O(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var W,B=5;function H(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:650,t="ABCDEFGHIJKLMNOPQRSTUVWXYZ",r=[],n=0;n<e;n++){var a=t[Math.floor(Math.random()*t.length)];r.push(a)}return r}function T(e,t){var r=W.INPUT_CHAR,n=W.REMOVE_CHAR,a=W.GUESS_SECRET,c=W.NEW_GAME,o=W.SET_RANDOM_BACKGROUND_CHAR,s=t.type,u=t.payload,i=e.currentAttemptValue,l=e.secretWord,p=e.gameState,h=e.currentAttemptIdx,d=e.maxAttempts,_=e.backgroundChars;switch(s){case r:return i.length<B&&"playing"===p&&1===(null===u||void 0===u?void 0:u.length)?M({},e,{currentAttemptValue:i+u.toUpperCase()}):e;case n:return i.length>0?M({},e,{currentAttemptValue:i.slice(0,-1)}):e;case a:if(i.length===B&&h<=d){var g=function(e,t){if(5!==e.length)throw new Error("Expected secret word to have length of 5");if(5!==t.length)throw new Error("Expected value to have length of 5");for(var r="",n=e,a=0;a<t.length;a++){var c=t[a],o="_";e[a]===c?o="X":e.indexOf(c)>-1&&n.indexOf(c)>-1&&(o="O"),n=n.replace(c,""),r+=o}return r}(l,i),f=p,v=h;return"XXXXX"===g?f="won":h===d?f="lost":v+=1,M({},e,{gameState:f,currentAttemptIdx:v,currentAttemptValue:"",previousAttempts:I(e.previousAttempts).concat([{input:i,result:g}])})}return e;case o:if(1===(null===u||void 0===u?void 0:u.length)||2===(null===u||void 0===u?void 0:u.length)){var b=I(_);return b[Math.floor(Math.random()*_.length)]=u,M({},e,{backgroundChars:b})}return e;case c:return V({secretWord:m(),backgroundChars:H()});default:throw new Error("Action type not recognized: ".concat(t.type))}}function V(e){var t=e.secretWord,r=e.backgroundChars;return{gameState:"playing",currentAttemptIdx:0,maxAttempts:4,currentAttemptValue:"",previousAttempts:[],secretWord:t.toUpperCase(),backgroundChars:r}}!function(e){e.INPUT_CHAR="INPUT_CHAR",e.REMOVE_CHAR="REMOVE_CHAR",e.GUESS_SECRET="GUESS_SECRET",e.NEW_GAME="NEW_GAME",e.SET_RANDOM_BACKGROUND_CHAR="SET_RANDOM_BACKGROUND_CHAR"}(W||(W={}));var U=(0,o.createContext)({});var G=function(){var e=(0,o.useReducer)(T,{secretWord:m(),backgroundChars:H()},V),t=e[0],r=e[1],a=t.currentAttemptIdx,c=t.currentAttemptValue,s=t.secretWord,u=t.gameState,i=t.previousAttempts,h=t.maxAttempts,_=t.backgroundChars,f=(0,o.useCallback)((function(e){var t=e.key;switch(t){case"Enter":r("playing"===u?{type:W.GUESS_SECRET}:{type:W.NEW_GAME});break;case"Backspace":r({type:W.REMOVE_CHAR});break;default:1===t.length&&t.match(/[a-z]/i)&&r({type:W.INPUT_CHAR,payload:t})}}),[u]);return(0,o.useEffect)((function(){return document.addEventListener("keydown",f),function(){document.removeEventListener("keydown",f)}}),[f]),console.log("secretWord",s),(0,n.jsxs)(U.Provider,{value:r,children:[(0,n.jsxs)("div",{className:l().shmurgle_container,children:[(0,n.jsx)(g,{gameState:u,currentAttemptIdx:a,maxAttempts:h,secretWord:s}),(0,n.jsx)("div",{className:l().attempts_container,children:function(){var e=[];i.forEach((function(t,r){e.push((0,n.jsx)(d,{attemptInput:t.input,attemptResult:t.result},"prev_".concat(r)))})),"playing"===u&&e.push((0,n.jsx)("div",{className:l().attempt,children:(0,n.jsx)(p,{input:c,current:!0})},"currentAttempt"));for(var t=a;t<h;t++)e.push((0,n.jsx)(d,{},"".concat(a,"_").concat(t)));return e}()}),(0,n.jsx)("button",{className:l().reset_button,onClick:function(){return r({type:W.NEW_GAME})},disabled:0===a&&"playing"===u,children:"New Game"})]}),(0,n.jsx)(N,{backgroundChars:_,gameState:u,currentAttemptIdx:a,maxAttempts:h,currentAttemptValue:c,previousAttempts:i})]})},P=r(7160),X=r.n(P),D=function(){return(0,n.jsxs)("div",{children:[(0,n.jsxs)(c(),{children:[(0,n.jsx)("title",{children:"Shmurgle"}),(0,n.jsx)("meta",{name:"description",content:"Generated by create next app"}),(0,n.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,n.jsx)("main",{className:X().main,children:(0,n.jsx)(G,{})})]})}},9221:function(e){e.exports={background_chars:"BackgroundChars_background_chars__XaVML",background_char:"BackgroundChars_background_char__syS33",present:"BackgroundChars_present__Ofys3",absent:"BackgroundChars_absent__vVOwR",highlight:"BackgroundChars_highlight__ZMKuM",pulsate:"BackgroundChars_pulsate__fv979"}},9885:function(e){e.exports={"easing-fn":"cubic-bezier(0.04, 0.2, 0, 1.36)",background_waves:"BackgroundWaves_background_waves__4EMsy",waves:"BackgroundWaves_waves__yNdm1",grower:"BackgroundWaves_grower__egVIv",parallax:"BackgroundWaves_parallax__AGmbB","move-forever":"BackgroundWaves_move-forever__WTE1U"}},7160:function(e){e.exports={main:"Home_main__nLjiQ"}},8716:function(e){e.exports={border:"1px solid rgba(0, 0, 0, 0.33)","background-color":"rgba(255, 255, 255, .94)","elevated-1":"0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24)","elevated-2":"0 3px 6px rgba(0, 0, 0, 0.16), 0 3px 6px rgba(0, 0, 0, 0.23)","elevated-3":"0 10px 20px rgba(0, 0, 0, 0.19), 0 6px 6px rgba(0, 0, 0, 0.23)",animationDuration:"30ms",shmurgle_container:"Shmurgle_shmurgle_container__eHIBC",background_container:"Shmurgle_background_container__31ptI",attempts_container:"Shmurgle_attempts_container__lAyW5",attempt:"Shmurgle_attempt__rHTa2",attempt_char:"Shmurgle_attempt_char__VekMa",current:"Shmurgle_current__81c1q",width_animation:"Shmurgle_width_animation__zQXOy",attempt_char__correct:"Shmurgle_attempt_char__correct__jnU1k",attempt_char__present:"Shmurgle_attempt_char__present__m92Fl",attempt_char__absent:"Shmurgle_attempt_char__absent__uxa20",reset_button:"Shmurgle_reset_button__nbdhN"}}},function(e){e.O(0,[562,774,888,179],(function(){return t=8312,e(e.s=t);var t}));var t=e.O();_N_E=t}]);