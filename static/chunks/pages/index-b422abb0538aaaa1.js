(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(t,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(3378)}])},3378:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return Z}});var n=r(5893),a=r(9008),o=r.n(a),s=r(7294),c=r(4184),i=r.n(c),u=r(8716),l=r.n(u);var p=function(t){var e=t.input,r=t.current,a=[];for(e.length>0&&(a=e.split(""));a.length<F;)a.push("");var o,s,c,u=i()(l().attempt_char,(o={},s=l().current,c=r,s in o?Object.defineProperty(o,s,{value:c,enumerable:!0,configurable:!0,writable:!0}):o[s]=c,o));return(0,n.jsx)(n.Fragment,{children:a.map((function(t,e){return(0,n.jsx)("span",{className:u,children:t},"".concat(e,"_").concat(t))}))})};function h(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var f=function(t){var e=t.attemptInput,r=void 0===e?"":e,a=t.attemptResult,o=void 0===a?"":a,s=[];if(0===r.length&&0===o.length)s.push((0,n.jsx)(p,{input:r},"smth"));else for(var c=0;c<5;c++){var u,f=r.charAt(c),m=o.charAt(c),d=i()(l().attempt_char,(h(u={},l().attempt_char__correct,"X"===m),h(u,l().attempt_char__present,"O"===m),h(u,l().attempt_char__absent,"_"===m),u));s.push((0,n.jsx)("span",{className:d,children:f},c))}return(0,n.jsx)("div",{className:l().attempt,children:s})};function m(){var t=Math.floor(Math.random()*_.length);return _[t]}function d(t,e){if(5!==t.length)throw new Error("Expected secret word to have length of 5");if(5!==e.length)throw new Error("Expected value to have length of 5");for(var r="",n=t,a=0;a<e.length;a++){var o=e[a],s="_";t[a]===o?s="X":t.indexOf(o)>-1&&n.indexOf(o)>-1&&(s="O"),n=n.replace(o,""),r+=s}return r}var _=["anise","apple","aspic","bacon","bagel","basil","beans","berry","bland","bread","broil","candy","cater","chard","chili","chips","cream","crepe","crisp","crust","curds","curry","dairy","dates","diner","dough","dried","drink","feast","flour","fried","fruit","grain","grape","gravy","guava","herbs","honey","icing","jelly","juice","kebab","knife","ladle","lemon","liver","lunch","maize","mango","melon","mints","mochi","munch","olive","onion","order","pasta","patty","peach","pecan","pilaf","pizza","plate","prune","punch","roast","salad","salsa","sauce","seeds","slice","snack","spicy","spoon","spork","spuds","squid","steak","stove","straw","sugar","sushi","sweet","syrup","thyme","toast","torte","tuber","wafer","water","wheat","yeast"];var g=function(t){var e=t.gameState,r=t.currentAttemptNo,a=t.maxAttempts,o=t.secretWord,s="turn ".concat(r+1,"/").concat(a+1);return"won"===e?s="You won!!":"lost"===e?s="You lost. The correct answer is ".concat(o):r===a&&(s="Last attempt"),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("h1",{children:"Shmurgle"}),(0,n.jsx)("p",{children:s})]})},v=r(1322),y=r(9885),b=r.n(y);var x=function(t){var e=t.color,r=t.offsetY;return(0,n.jsxs)("div",{className:b().background_waves,children:[(0,n.jsxs)("svg",{className:b().waves,xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 24 150 28",preserveAspectRatio:"none",shapeRendering:"auto",children:[(0,n.jsx)("defs",{children:(0,n.jsx)("path",{id:"gentle-wave",d:"M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"})}),(0,n.jsxs)("g",{className:b().parallax,children:[(0,n.jsx)("use",{xlinkHref:"#gentle-wave",x:"48",y:"0",fill:e,style:{opacity:.6}}),(0,n.jsx)("use",{xlinkHref:"#gentle-wave",x:"48",y:"3",fill:e,style:{opacity:.4}}),(0,n.jsx)("use",{xlinkHref:"#gentle-wave",x:"48",y:"5",fill:e,style:{opacity:.2}}),(0,n.jsx)("use",{xlinkHref:"#gentle-wave",x:"48",y:"8",fill:e,style:{opacity:1}})]})]}),(0,n.jsx)("div",{className:b().grower,style:{height:r,backgroundColor:e}})]})},w=r(9221),A=r.n(w);function j(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function S(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function k(t){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function C(t,e){return!e||"object"!==E(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function N(t,e){return(N=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function O(t){return function(t){if(Array.isArray(t))return j(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return j(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var E=function(t){return t&&"undefined"!==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};function M(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=k(t);if(e){var a=k(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return C(this,r)}}var R="ABCDEFGHIJKLMNOPQRSTUVWXYZ",B=["\ud83c\udf89","\ud83c\udfc6","\ud83d\ude0a","\ud83d\ude4c","\u2665"],I=["\ud83d\udc80","\ud83d\udca9","\ud83d\ude14","\ud83d\ude20","\ud83e\udd2c"],P=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&N(t,e)}(r,t);var e=M(r);function r(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(n=e.call(this,t)).state={randomizedChars:[],presentChars:[],absentChars:[]},n.reset=function(){window.clearInterval(n.interval),n.interval=void 0,n.setState({randomizedChars:n.getRandomChars(),presentChars:[],absentChars:[]})},n.getEndscreenEmoji=function(){return"won"===n.props.gameState?B[Math.floor(Math.random()*B.length)]:I[Math.floor(Math.random()*I.length)]},n.endState=function(){if(!n.interval){var t=0;n.interval=window.setInterval((function(){t>666&&window.clearInterval(n.interval),t++;var e=O(n.state.randomizedChars);e[Math.floor(Math.random()*e.length)]=n.getEndscreenEmoji(),n.setState({randomizedChars:e})}),Math.floor(100*Math.random()))}},n.getRandomChars=function(){for(var t=[],e=0;e<25*R.length;e++){var r=R[Math.floor(Math.random()*R.length)];t.push(r)}return t},n.interval,n}var a=r.prototype;return a.componentDidMount=function(){this.setState({randomizedChars:this.getRandomChars()})},a.componentWillUnmount=function(){window.clearInterval(this.interval),this.interval=void 0},a.componentDidUpdate=function(t){if("won"===this.props.gameState||"lost"===this.props.gameState)this.endState();else if(0===this.props.currentAttemptNo&&"playing"!==t.gameState)this.reset();else if(this.props.currentAttemptNo>t.currentAttemptNo){var e=this.props.previousAttempts[this.props.previousAttempts.length-1],r=e.input,n=e.result,a=O(this.state.presentChars),o=O(this.state.absentChars);r.split("").forEach((function(t,e){"X"===n[e]||"O"===n[e]?a.push(t):o.push(t)})),this.setState({presentChars:a,absentChars:o})}},a.render=function(){var t=this.state,e=t.randomizedChars,r=t.presentChars,a=t.absentChars,o=this.props.currentAttemptValue;return(0,n.jsx)("div",{className:A().background_chars,children:e.map((function(t,e){var s,c=i()(A().background_char,(S(s={},A().present,r.includes(t)),S(s,A().absent,a.includes(t)),S(s,A().pulsate,B.includes(t)||I.includes(t)),S(s,A().highlight,o.includes(t)&&Math.random()>.25),s));return(0,n.jsx)("span",{className:c,children:t},e)}))})},r}(s.Component);var V=function(t){var e=t.gameState,r=t.currentAttemptNo,a=t.maxAttempts,o=t.currentAttemptValue,s=t.previousAttempts,c="lost"===e||"won"===e?"100vh":"".concat(12*r+30,"vh"),i=(0,v.CD)("rgb(21,177,239)","rgb(211, 47, 47)",1-r/a)({});return"won"===e&&(i="rgb(0,192,118)"),(0,n.jsxs)("div",{className:l().background_container,children:[(0,n.jsx)(x,{color:i,offsetY:c}),(0,n.jsx)(P,{color:i,gameState:e,currentAttemptNo:r,maxAttempts:a,currentAttemptValue:o,previousAttempts:s})]})};function W(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function X(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function z(t){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function T(t,e){return!e||"object"!==H(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function U(t,e){return(U=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function D(t){return function(t){if(Array.isArray(t))return W(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return W(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return W(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var H=function(t){return t&&"undefined"!==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};function L(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=z(t);if(e){var a=z(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return T(this,r)}}var F=5,Y=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&U(t,e)}(r,t);var e=L(r);function r(){var t;return X(this,r),(t=e.apply(this,arguments)).state={maxAttempts:4,currentAttemptNo:0,currentAttemptValue:"",secretWord:m().toUpperCase(),gameState:"playing",previousAttempts:[]},t.resetButtonRef=(0,s.createRef)(),t.onKeyDown=function(e){var r=t.state,n=r.currentAttemptValue,a=r.gameState;"Enter"===e.key&&n.length===F?t.onAttempt(n):"Enter"===e.key&&"playing"!==a?t.reset():"Backspace"===e.key&&n.length>0?t.setState({currentAttemptValue:n.slice(0,-1)}):e.key.match(/^([a-zA-Z]){1,1}$/)&&n.length<F&&t.setState({currentAttemptValue:n+e.key.toUpperCase()})},t.reset=function(){t.setState({currentAttemptNo:0,secretWord:m().toUpperCase(),gameState:"playing",previousAttempts:[]})},t.onAttempt=function(e){var r=t.state,n=r.secretWord,a=r.currentAttemptNo,o=r.maxAttempts,s=r.previousAttempts,c=r.gameState,i=d(n,e),u=c,l=a;"XXXXX"===i?u="won":a===o?u="lost":l+=1,t.setState({previousAttempts:D(s).concat([{input:e,result:i}]),currentAttemptValue:"",gameState:u,currentAttemptNo:l})},t.renderAttempts=function(){var e=t.state,r=e.previousAttempts,a=e.gameState,o=e.currentAttemptNo,s=e.maxAttempts,c=e.currentAttemptValue,i=[];r.forEach((function(t,e){i.push((0,n.jsx)(f,{attemptInput:t.input,attemptResult:t.result},"prev_".concat(e)))})),"playing"===a&&i.push((0,n.jsx)("div",{className:l().attempt,children:(0,n.jsx)(p,{input:c,current:!0})},"current"));for(var u=o;u<s;u++)i.push((0,n.jsx)(f,{},"".concat(o,"_").concat(u)));return i},t}var a=r.prototype;return a.componentDidMount=function(){this.keyDownListener=document.addEventListener("keydown",this.onKeyDown)},a.componentWillUnmount=function(){document.removeEventListener("keydown",this.keyDownListener)},a.render=function(){var t=this.state,e=t.gameState,r=t.currentAttemptNo,a=t.maxAttempts,o=t.secretWord,s=t.currentAttemptValue,c=t.previousAttempts;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:l().shmurgle_container,children:[(0,n.jsx)(g,{gameState:e,currentAttemptNo:r,maxAttempts:a,secretWord:o}),(0,n.jsx)("div",{className:l().attempts_container,children:this.renderAttempts()}),(0,n.jsx)("button",{className:l().reset_button,onClick:this.reset,ref:this.resetButtonRef,disabled:0===r&&"playing"===e,children:"New Game"})]}),(0,n.jsx)(V,{gameState:e,currentAttemptNo:r,maxAttempts:a,currentAttemptValue:s,previousAttempts:c})]})},r}(s.Component),G=Y,K=r(7160),Q=r.n(K),Z=function(){return(0,n.jsxs)("div",{children:[(0,n.jsxs)(o(),{children:[(0,n.jsx)("title",{children:"Shmurgle"}),(0,n.jsx)("meta",{name:"description",content:"Generated by create next app"}),(0,n.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,n.jsx)("main",{className:Q().main,children:(0,n.jsx)(G,{})})]})}},9221:function(t){t.exports={background_chars:"BackgroundChars_background_chars__XaVML",background_char:"BackgroundChars_background_char__syS33",present:"BackgroundChars_present__Ofys3",absent:"BackgroundChars_absent__vVOwR",highlight:"BackgroundChars_highlight__ZMKuM",pulsate:"BackgroundChars_pulsate__fv979"}},9885:function(t){t.exports={"easing-fn":"cubic-bezier(0.04, 0.2, 0, 1.36)",background_waves:"BackgroundWaves_background_waves__4EMsy",waves:"BackgroundWaves_waves__yNdm1",grower:"BackgroundWaves_grower__egVIv",parallax:"BackgroundWaves_parallax__AGmbB","move-forever":"BackgroundWaves_move-forever__WTE1U"}},7160:function(t){t.exports={main:"Home_main__nLjiQ"}},8716:function(t){t.exports={border:"1px solid rgba(0, 0, 0, 0.33)","background-color":"rgba(255, 255, 255, .94)","elevated-1":"0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24)","elevated-2":"0 3px 6px rgba(0, 0, 0, 0.16), 0 3px 6px rgba(0, 0, 0, 0.23)","elevated-3":"0 10px 20px rgba(0, 0, 0, 0.19), 0 6px 6px rgba(0, 0, 0, 0.23)",animationDuration:"30ms",shmurgle_container:"Shmurgle_shmurgle_container__eHIBC",background_container:"Shmurgle_background_container__31ptI",attempts_container:"Shmurgle_attempts_container__lAyW5",attempt:"Shmurgle_attempt__rHTa2",attempt_char:"Shmurgle_attempt_char__VekMa",current:"Shmurgle_current__81c1q",width_animation:"Shmurgle_width_animation__zQXOy",attempt_char__correct:"Shmurgle_attempt_char__correct__jnU1k",attempt_char__present:"Shmurgle_attempt_char__present__m92Fl",attempt_char__absent:"Shmurgle_attempt_char__absent__uxa20",reset_button:"Shmurgle_reset_button__nbdhN"}}},function(t){t.O(0,[562,774,888,179],(function(){return e=8312,t(t.s=e);var e}));var e=t.O();_N_E=e}]);